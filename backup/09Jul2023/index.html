<html>
<script src='https://d3js.org/d3.v5.min.js'></script>
<style> 
    circle {fill: lightblue; stroke: black;} 
</style>
<body onload='init()'>

<svg width=300 height=300></svg>

<script>
async function init() {

    d3.csv("wellbore_quality.csv")
    .then(function(data) {
        var svg = d3.select("svg")
        width = 200
        height = 200
        var x = d3.scaleLog()
                .base(10)
                .domain([10, 150])
                .range([ 0, width ]);
        var y = d3.scaleLog()
                .base(10)
                .domain([10, 150])
                .range([ height, 0]);

        // Add dots
        svg
            .append("g")
            .attr("transform", "translate(50,50)")
            .selectAll("circle")
            .data(data)
            .enter()
            .append("circle")
            .attr("cx", function (d) { return x(d.AverageCityMPG); } )
            .attr("cy", function (d) { return y(d.AverageHighwayMPG); } )
            .attr("r", function (d) { return (2 + +d.EngineCylinders); })

        // Add Y axis
        svg.append("g")
            .attr("transform", "translate(50,50)")
            .call(d3.axisLeft(y)
                .tickValues([10, 20, 50, 100])
                .tickFormat(d3.format("~s"))
            );

        // Add X axis
        svg.append("g")
            .attr("transform", "translate(50,250)")
            .call(d3.axisBottom(x)
                .tickValues([10, 20, 50, 100])
                .tickFormat(d3.format("~s"))
            );
    })
    .catch(function(error){
        // handle error
    })

}
</script>

</body>
</html>

